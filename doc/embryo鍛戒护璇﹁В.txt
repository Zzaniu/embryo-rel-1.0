
Copyright(c) 2019-2-12 Shangwen Wu

embryo目前共支持16个命令，命令描述以及参数说明如下

一、测试命令

	1、hello                        
	描述：hello world测试命令，该命令包含许多调试过程中对某一功能点进行测试时的遗留代码
	参数：无


二、杂项命令

	1、lsdev [-a]	
	描述：显示当前系统的中可见设备，默认不显示逻辑设备和总线设备
	参数：
		（1）-a：显示所有可见设备，包括逻辑设备以及总线设备
		
	2、reboot
	描述：软复位系统
	参数：无

	3、poweroff/shutdown/halt
	描述：关闭系统，进入掉电模式
	参数：无


三、shell兼容命令

	1、cat [-n] file                              
	描述：打印文件内容到标准输出（默认输出到显示器以及串口）
	参数：
		（1）-n：显示行数到标准输出（暂不支持）
		（2）file：目标文件路径名

	2、ls [-a|l] file                     
	描述：显示指定目录的子文件列表，如果目标文件为普通文件，则仅打印该文件的文件名称，默认不显示隐藏文件
	参数：
		（1）-a：显示所有文件，包括以.打头的隐藏文件
		（2）-l：显示子文件的详细信息（暂不支持）
		（3）file：目标文件路径名
          
        3、help [*|cmd...]  
	描述：显示命令帮助信息，默认不显示参数描述信息
	参数：
		（1）*：显示所有命令的详细描述信息（包含参数说明）
           	（2）cmd：显示指定命令的详细描述信息


四、内存地址相关操作

	1、m [-bhwd] addr [hexval]
	描述：修改指定内存地址（包括MMIO）的数据值，该命令也可以用来修改cpu上的mmio外设寄存器
	参数：
		（1）-b/h/w/d：分别表示需要修改的数据位宽为8/16/32/64比特
		（2）addr：需要修改的目标地址
		（3）hexval：需修改的目标地址数据值，该值将固定解释为16进制数
	交互参数：
		（1）“.”：退出交互模式
		（2）回车：修改当前地址在指定位宽下的下一个位置
		（3）“-”或者“^”：修改当前地址在指定位宽下的上一个位置
		（4）“=”：重读该位置数据值，位置不进行移动
	注意：该命令为交互命令，需要用户给出是否进行多个数据地址的修改提示，而非仅修改单个地址便自动退出

	2、d [-bhwd] addr [cnt]
	描述：读取指定内存地址（包括MMIO）的数据值，并以16进制输出到标准输出，该命令也可以用来读取cpu上的mmio外设寄存器
	参数：
		（1）-b/h/w/d：分别表示需要读取的数据位宽为8/16/32/64比特
		（2）addr：需要读取的目标地址
		（3）cnt：需连续读取的目标地址行数，地址步进值为前面给出的位宽长度，每行固定显示四个连续地址的数据值
	注意：该命令为交互命令，当cnt未指定时，可进入交互模式，进入该模式后，输入回车将继续显示下一行，输入空格键将继续显示后面的连续10行，输入q键将放弃继续显示并退出当前命令


五、网络相关命令

      	1、tftp -g|p file host address                         
	描述：读写远端tftp服务器上的文件到指定的内存地址
	参数：
		（1）-g：从tftp服务器下载文件
		（2）-p：从tftp服务器上传文件
		（3）file：远端文件路径名
		（4）host：tftp服务器IP地址，目前不支持域名解析
		（5）address：本地目标内存地址
       
	2、mdio_read ifname [phyaddr] [regaddr]
	描述：读取mdio总线上挂接的PHY寄存器值，并以16进制打印到标准输出
	参数：
                （1）ifname：mdio所属的网卡设备名（见《设备类型说明》一文）
		（2）phyaddr：16进制PHY地址，当未指定PHY地址时，将遍历PHY地址为0-31上所有可能的PHY寄存器
		（3）regaddr：16进制PHY寄存器地址，当未指定PHY寄存器地址时，将遍历寄存器地址为0x0-0xff上所有可能的PHY寄存器	   
           
	3、mdio_write ifname phyaddr regaddr regval
	描述：修改mdio总线上挂接的PHY寄存器值
	参数：
                （1）ifname：mdio所属的网卡设备名（见《设备类型说明》一文）
		（2）phyaddr：要修改的16进制PHY地址
		（3）regaddr：要修改的16进制PHY寄存器地址 
		（4）regval：要修改的16进制PHY寄存器值

	4、ifconfig [-a]|[interface]|interface options|address ...
	描述：配置和显示网卡信息，默认仅显示已经处于up状态的网卡
	参数：
		（1）-a：显示所有网卡信息，包括处于down状态的网卡
		（2）interfaces：特定网卡设备名（见《设备类型说明》一文）
		（3）options：目前embryo仅支持UP/DOWN网口操作
		（4）address：配置网卡（IP）地址，如果网口属于down状态，则该操作自动将网卡进入up状态
		
     	5、ping host
       	描述：测试与某个主机地址网络是否联通  
	参数：
		（1）host：目标主机，目前不支持域名解析，仅支持IP地址


六、ATA接口设备相关操作

	1、ata_read device blkno blkcnt addr
	描述：读取ata设备数据到指定内存地址
	参数：
     		（1）device：ata设备名（见《设备类型说明》一文）
          	（2）blkno：需读取的16进制起始块号
           	（3）blkcnt：需读取的块个数
           	（4）addr：16进制目标内存地址

	2、ata_write device blkno blkcnt addr
	描述：写入指定内存地址内上的数据到ata设备
	参数：
     		（1）device：ata设备名（见《设备类型说明》一文）
          	（2）blkno：需写入的16进制起始块号
           	（3）blkcnt：需写入的块个数
           	（4）addr：16进制源内存地址


七、块设备相关操作

     	1、fdisk blockdev                                           
	描述：查看某个块设备的分区信息（目前仅支持读取dos分区表）
	参数：
		（1）blockdev：需要读取分区信息的块设备名（见《设备类型说明》一文）


八、客户程序执行相关命令

	1、boot [arg...] 
	描述：内核引导命令，执行该命令后，CPU开始启动内核
	参数：
              	（1）arg...：内核需要的命令行启动参数

	2、go [-e entry|s stack|arg...]
	描述：启动客户程序，执行该命令后，CPU跳转到客户入口点开始执行
	参数：                                           
        参数：                          
           	（1）-e：设置客户程序入口点
           	（2）-s：设置客户程序的C代码栈顶位置
          	（3）arg...：客户程序需要的命令行启动参数

	3、load [-r] file
        描述：加载可执行文件到指定的内存地址
	参数：
           	（1）-r：表示目标文件格式为原始二进制文件（暂不支持）
           	（2）file：目标可执行文件路径名（见《文件接口说明》一文）

